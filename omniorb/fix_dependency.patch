diff --git a/mk/mklib.mk b/mk/mklib.mk
index fb83cf391..9b28a314b 100644
--- a/mk/mklib.mk
+++ b/mk/mklib.mk
@@ -100,6 +100,10 @@ $(shlib): $(patsubst %, shared/%, $(LIB_OBJS) $(LIB_SHARED_ONLY_OBJS))
 	@(namespec="$(namespec)" extralibs="$(imps) $(extralibs)"; \
          $(MakeCXXSharedLibrary))
 
+ifdef Win32Platform
+$(shlib): | $(staticlib)
+endif
+
 export:: $(shlib)
 	@(namespec="$(namespec)"; \
           $(ExportSharedLibrary))
@@ -209,6 +211,10 @@ $(dbugshlib): $(patsubst %, shareddebug/%, $(LIB_OBJS) $(LIB_SHARED_ONLY_OBJS))
 	(namespec="$(namespec)" debug=1 extralibs="$(dbugimps) $(extralibs)"; \
          $(MakeCXXSharedLibrary))
 
+ifdef Win32Platform
+$(dbugshlib): | $(dbuglib)
+endif
+
 export:: $(dbugshlib)
 	@(namespec="$(namespec)" debug=1; \
           $(ExportSharedLibrary))
